# This is a basic workflow to help you get started with Actions

name: Share data between jobs

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the main branch
 push:
   branches: [main]
#  pull_request:
#    branches: [ main ]

  # Allows you to run this workflow manually from the Actions tab
 workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
#   test_1:
#     runs-on: ubuntu-latest
#     steps:
#         - uses: browser-actions/setup-chrome@latest
#           with:
#             chrome-version: dev
#         - run: chrome --verison
  test_2:
    runs-on: ubuntu-latest
    steps:
      - name: "Test upload to artifact"
        shell: bash
        run: |
          ls
          mkdir dir1 dir2 dir3
          ls
          touch dir1/a.txt dir1/b.txt dir1/c.txt
          ls dir1
          touch dir2/m.txt dir2/n.txt dir2/o.txt
          ls dir2
          touch dir3/x.txt dir3/y.txt dir3/z.txt
          ls dir3

      - name: "Upload 3 dirs"
        uses: actions/upload-artifact@v2
        with:
          name: 3dir
          path: |
            dir1/
            dir2/
            dir3/      
      - name: "Upload 1 dirs"
        uses: actions/upload-artifact@v2
        with:
          name: 1dir
          path: |
            dir1/*
            dir2/*
            dir3/*
          

        
          
#   job_1:
#     name: Add 3 and 7
#     runs-on: ubuntu-latest
#     steps:
#       - shell: bash
#         run: |
#           expr 3 + 7 > math-homework.txt
#       - name: Upload math result for job 1
#         uses: actions/upload-artifact@v2
#         with:
#           name: homework
#           path: math-homework.txt

#   job_2:
#     name: Multiply by 9
#     needs: job_1
#     runs-on: ubuntu-latest
#     steps:
#       - name: Download math result for job 1
#         uses: actions/download-artifact@v2
#         with:
#           name: homework
#       - shell: bash
#         run: |
#           value=`cat math-homework.txt`
#           expr $value \* 9 > math-homework.txt
#       - name: Upload math result for job 2
#         uses: actions/upload-artifact@v2
#         with:
#           name: homework
#           path: math-homework.txt

#   job_3:
#     name: Display results
#     needs: job_2
#     runs-on: ubuntu-latest
#     steps:
#       - name: Download math result for job 2
#         uses: actions/download-artifact@v2
#         with:
#           name: homework
#       - name: Print the final result
#         shell: bash
#         run: |
#           value=`cat math-homework.txt`
#           echo The result is $value
